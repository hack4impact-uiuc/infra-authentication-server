---
name: Frontend for Forgot Password
route: /frontend-forgotpass
---


# Frontend Forgot Password


<img src={require('./images/forgotpass.png')} style={{maxWidth:500}}></img>

## The Code
https://github.com/hack4impact-uiuc/infra-authentication-client/blob/master/pages/forgotPassword.js

The first part of the code for the forgot password page component is comprised of a Card with an input for email.


```
            <Card
              className="interview-card"
              style={{ width: "400px", height: "60%" }}
            >
              <CardTitle>
                <h3 style={{ textAlign: "center", paddingTop: "10px" }}>
                  Reset Password
                </h3>
              </CardTitle>

              <CardBody>
                <Form>
                  <FormGroup>
                    <Label>Email</Label>
                    <Input
                      type="email"
                      name="email"
                      id="exampleEmail"
                      maxLength="64"
                      pattern={EMAIL_REGEX}
                      value={this.state.email}
                      onChange={this.handleChange}
                      required
                    />
                  </FormGroup>
                  <Button
                    color="success"
                    size="lg"
                    onClick={this.handleGetSecurityQuestion}
                    style={{ float: "right", width: "100%" }}
                  >
                    Reset Password
                  </Button>
                </Form>
              </CardBody>
              <div style={{ textAlign: "center" }}>
                <Link prefetch href="/login">
                  <a>Back to login page</a>
                </Link>
              </div>
            </Card>

```

<img src={require('./images/forgotpass2.png')} style={{maxWidth:500}}></img>

## The Code
This alert happens if you haven't set a security question in your profile.

```
        {this.state.errorMessage !== "" && (
        <Alert color="danger">{this.state.errorMessage}</Alert>
      )}
      {this.state.submitNewPassword ? (
        .....
<div>
          {this.state.question === "" ? (
            <Card
              className="interview-card"
              style={{ width: "400px", height: "60%" }}
            >
              <CardTitle>
                <h3 style={{ textAlign: "center", paddingTop: "10px" }}>
                  Reset Password
                </h3>
              </CardTitle>

              <CardBody>
                <Form>
                  <FormGroup>
                    <Label>Email</Label>
                    <Input
                      type="email"
                      name="email"
                      id="exampleEmail"
                      maxLength="64"
                      pattern={EMAIL_REGEX}
                      value={this.state.email}
                      onChange={this.handleChange}
                      required
                    />
                  </FormGroup>
                  <Button
                    color="success"
                    size="lg"
                    onClick={this.handleGetSecurityQuestion}
                    style={{ float: "right", width: "100%" }}
                  >
                    Reset Password
                  </Button>
                </Form>
              </CardBody>
              <div style={{ textAlign: "center" }}>
                <Link prefetch href="/login">
                  <a>Back to login page</a>
                </Link>
              </div>
            </Card>
```

<img src={require('./images/forgotpass3.png')} style={{maxWidth:500}}></img>

## The Code
The next step after entering the email is answering a previously set security question

```

            <Card
              className="interview-card"
              style={{ width: "400px", height: "60%" }}
            >
              <CardTitle>
                <h3 style={{ textAlign: "center", paddingTop: "10px" }}>
                  Reset Password
                </h3>
              </CardTitle>

              <CardBody>
                <Form>
                  <FormGroup>
                    <p> {this.state.question}</p>
                    <Label>Answer</Label>
                    <Input
                      type="answer"
                      name="answer"
                      onChange={this.handleChange}
                      required
                    />
                  </FormGroup>
                  <Button
                    color="success"
                    size="lg"
                    onClick={this.handleSubmitSecurityAnswer}
                    style={{ float: "right", width: "100%" }}
                    disabled={this.state.loadingAPI}
                  >
                    Submit Answer
                  </Button>
                </Form>
              </CardBody>
              <div style={{ textAlign: "center" }}>
                <Link prefetch href="/login">
                  <a>Back to login page</a>
                </Link>
              </div>
            </Card>

```


<img src={require('./images/forgotpass4.png')} style={{maxWidth:500}}></img>

## The Code
The final part is resetting your password with a pin sent to your email.
TODO: How we handle this is Next's Router.push method, but if you're using React Router you should just redirect to the
home page in some way.

```
 <Card
          className="interview-card"
          style={{ width: "400px", height: "60%" }}
        >
          <CardTitle>
            <h3 style={{ textAlign: "center", paddingTop: "10px" }}>
              Reset Password
            </h3>
          </CardTitle>

          <CardBody>
            <Form>
              <FormGroup>
                <Label>Pin</Label>
                <Input
                  name="pin"
                  value={this.state.pin}
                  onChange={this.handleChange}
                  required
                />
              </FormGroup>
              <FormGroup>
                <Label>Password</Label>
                <Input
                  type="password"
                  name="password"
                  minLength="8"
                  maxLength="64"
                  value={this.state.password}
                  onChange={this.handleChange}
                  required
                />
              </FormGroup>
              <FormGroup>
                <Label>Confirm Password</Label>
                <Input
                  type="password"
                  name="password2"
                  minLength="8"
                  maxLength="64"
                  value={this.state.password2}
                  onChange={this.handleChange}
                  required
                />
              </FormGroup>
              <Button
                color="success"
                size="lg"
                onClick={this.handleSubmitNewPassword}
                style={{ float: "left", width: "100%" }}
              >
                Reset Password
              </Button>{" "}
            </Form>
          </CardBody>
          <div style={{ textAlign: "center" }}>
            <Link prefetch href="/login">
              <a>Back to login page</a>
            </Link>
          </div>
        </Card>
```